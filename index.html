<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>HACK YOUTUBE</title>
  </head>
  <body>
    <div id="divReproductor">
      <label for="txtUrlVideoYoutube">Url Video: </label>
      <input id="txtUrlVideoYoutube" type="text">
      <button type="button" name="btnAgregar" id="btnAgregar">Agregar</button>
    </div>
    <iframe id="iframeVideo" src=""></iframe>
  </body>
  https://www.youtube.com/watch?v=fciL4yULkns
  <script type="text/javascript">
    var iframeVideo = document.getElementById('iframeVideo');
    iframeVideo.setAttribute('style', 'width:100%; height: 800px');
    iframeVideo.setAttribute("src", "https://www.youtube.com/embed/fciL4yULkns?ecver=2&autoplay=0");
    var video = iframeVideo.contentDocument.getElementById('player');
    console.log(video);

    document.getElementById('btnAgregar').addEventListener('click', addVideo);

    function addVideo(){
      var url = document.getElementById('txtUrlVideoYoutube').value;
      var indice = url.indexOf('?v=');
      var subStr = url.slice((indice + 3), url.length);
      console.log(subStr);

      url = 'https://www.youtube.com/embed/' + subStr + '?ecver=2&autoplay=1';



      iframeVideo.setAttribute("src", url);
    }
    //https://www.youtube.com/embed/RgKAFK5djSk?ecver=2&autoplay=0
    //https://www.youtube.com/watch?v=_ovdm2yX4MA
    //probelma con videos de vevo no se deja reproducir por fuera de youtube

    //video.play();

    // <div style="position:relative;height:0;padding-bottom:56.25%">
    // <iframe src="https://www.youtube.com/embed/RgKAFK5djSk?ecver=2" style="position:absolute;width:100%;height:100%;left:0" width="640" height="360" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>
  </script>
</html>
